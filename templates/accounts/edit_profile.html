{% extends 'base.html' %}
{% load static %}

{% block title %} E-SHOP @ Edit Profile {% endblock %}

{% block content %}
<section>

    <!-- ALERT MESSAGES -->
    {% include 'includes/alerts.html' %}
    <div class="container dash-container">
        <div class="row">

            <!-- DASHBOARD_SIDEBAR.HTML -->
            {% include 'includes/dashboard_sidebar.html' %}

            <!-- DASHBOARD.HTML -->
            <main class="col-md-9 d-space">

                <article class="card dashboard-card">
                    <div class="dash-header-container">
                        <div class="dash-header">Edit Profle: {{user.full_name}}</div>
                    </div>
                    <div class="card-body">
                        <form class="edit-form" action="{% url 'edit_profile' %}"method="POST"enctype="multipart/form-data">
                            {% csrf_token %}

                            <!-- Profile Picture -->
                            <div class="form-row">
                                <div class="form-group">
                                    {% if userprofile.profile_picture and userprofile.profile_picture.url %}
                                        <img class="edit-profile-picture" src="{{ userprofile.profile_picture.url }}" alt="User Profile Picture">
                                    {% else %}
                                        <img class="edit-profile-picture" src="{% static 'images/misc/default_profile.png' %}" alt="Default Profile Picture">
                                    {% endif %}
                                </div>
                            </div>

                            <!-- Upload Profile Picture -->
                            <div class="form-row">
                                <div class="form-group edit-form-picture">
                                    <label class="edit-label-picture" for="id_profile_picture">Profile Picture:</label>
                                    {{ profile_form.profile_picture }}
                                </div>
                            </div>

                            <!-- First & Last Name -->
                            <div class="form-row">
                                <div class="form-group"><label for="id_first_name">First Name:</label>
                                    {{ user_form.first_name }}
                                </div>
                                <div class="form-group">
                                    <label for="id_last_name">Last Name:</label>
                                    {{ user_form.last_name }}
                                </div>
                            </div>

                            <!-- Phone Number -->
                            <div class="form-row">
                                <div class="form-group"><label for="id_phone_number">Phone number:</label>
                                    {{ user_form.phone_number }}
                                </div>
                            </div>

                            <!-- Address 1 & 2 -->
                            <div class="form-row">
                                <div class="form-group"><label for="id_address_line_1">Address 1:</label>
                                    {{ profile_form.address_line_1 }}
                                </div>
                                <div class="form-group"><label for="id_address_line_2">Address 2:</label>
                                    {{ profile_form.address_line_2 }}
                                </div>
                            </div>

                            <!-- City & Country -->
                            <div class="form-row">
                                <div class="form-group"><label for="id_city">City:</label>
                                    {{ profile_form.city }}
                                </div>
                                <div class="form-group"><label for="id_country">Country:</label>
                                    {{ profile_form.country }}
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="form-row">
                                <div class="form-group">
                                    <div class="btn-container text-center">
                                        <input type="submit" value="UPDATE" class="btn">
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>
                </article>
            </main>
        </div>
    </div>
</section>
{% endblock %}
